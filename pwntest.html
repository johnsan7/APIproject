<!DOCTYPE html>
<html>
  <head>
    <script>
	console.log("Getting to request");
		var req = new XMLHttpRequest();
				
		var sendAddress = 'https://haveibeenpwned.com/api/breachedaccount/alanmandrag@hotmail.com';
				
		//This sets up an asynchronous get request 
		req.open('GET', sendAddress, true);
		
		req.addEventListener('load',function()
		{
			if(req.status >= 200 && req.status < 400)
			{
				console.log("Request received back!");
				console.log("Response Reads ", req.responseText);

			}
			//If email address is not found in a leak, 404 is returned. 
			else if(req.status == 404) 
			{
				console.log("Email address was not found, no leak");
			}
			else
			{
				console.log("Error in request");
			}
					
			});
			
		req.send(null);
    </script>
  </head>
  <body>
  </body>
</html>